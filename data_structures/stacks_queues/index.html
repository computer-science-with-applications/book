<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2.3. Implementing a Data Structure: Stacks and Queues &mdash; Computer Science with Applications  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/csapps.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.4. Classes and Objects" href="../classes/index.html" />
    <link rel="prev" title="2.2. Dictionaries and Sets" href="../dictionaries/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Computer Science with Applications
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../preface.html">Preface</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">1. Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">2. Data Structures</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../lists/index.html">2.1. Lists, Tuples, and Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dictionaries/index.html">2.2. Dictionaries and Sets</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.3. Implementing a Data Structure: Stacks and Queues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#interfaces-and-apis">2.3.1. Interfaces and APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stacks">2.3.2. Stacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#queues">2.3.3. Queues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../classes/index.html">2.4. Classes and Objects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../functions/index.html">3. Functional Programming and Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../working_with_data/index.html">4. Working with Data</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Computer Science with Applications</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html"><span class="section-number">2. </span>Data Structures</a> &raquo;</li>
      <li><span class="section-number">2.3. </span>Implementing a Data Structure: Stacks and Queues</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/data_structures/stacks_queues/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="implementing-a-data-structure-stacks-and-queues">
<h1><span class="section-number">2.3. </span>Implementing a Data Structure: Stacks and Queues<a class="headerlink" href="#implementing-a-data-structure-stacks-and-queues" title="Permalink to this heading"></a></h1>
<p>Up to this point, we have been using data types (integers, strings,
etc.)  and data structures (lists and dictionaries) that are part of
Python. While there is plenty we can do with them, sometimes we will
need to implement our own custom data structures. In this chapter, we
will present two new data structures: stacks and queues. While Python
actually already provides implementations of these data structures, we
will implement our own versions from scratch, so we can understand the
process involved in implementing a data structure. As we’ll see, a key
aspect of this process is thinking about the <em>interface</em> of our data
structure, or how other programmers (not us) will interact with that
data structure.</p>
<section id="interfaces-and-apis">
<h2><span class="section-number">2.3.1. </span>Interfaces and APIs<a class="headerlink" href="#interfaces-and-apis" title="Permalink to this heading"></a></h2>
<p>When we interact with lists and dictionaries in Python, we are blissfully
unaware of all their internal details. For example, take this simple
dictionary code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;A&quot;</span> <span class="ow">in</span> <span class="n">d</span>
<span class="go">True</span>
</pre></div>
</div>
<p>In this code, we can think about the dictionary in fairly high-level terms: it contains
a collection of mappings between keys and values, and the code above adds one
such mapping and also queries whether a given mapping exists or not.</p>
<p>However, dictionaries internally use a data structure called a <em>hash table</em>.
Adding even a single mapping to the hash table involves a series of potentially
complicated steps, with a number of scenarios the implementer must handle: what
if the key already exists in the hash table? What if it doesn’t? What if the
hash table doesn’t have enough memory allocated to add more keys?</p>
<p>Fortunately, all those details are abstracted away for us, because Python
allows us to interact with the dictionary using a simple <em>interface</em>. When
we add a new mapping in the dictionary, we don’t have to think in terms of
how we must manipulate the internal hash table; we just do this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">4.0</span>
</pre></div>
</div>
<p>As users of a data structure, we only need to concern ourselves with the
interface of that data structure. A term you’ll hear often is <em>API</em>, which stands
for <em>Application Programming Interface</em>. An API is a more general term, that can
refer to the interface of a data structure (e.g., “the dictionary API”), but also to
any collection of functions or protocols that allow us to interact with a software
library or system, while abstracting away all of its internal details.</p>
<p>For example, when we import Python’s <code class="docutils literal notranslate"><span class="pre">random</span></code> module, we are gaining access
to a software library for working with random numbers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="go">79</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">random</span></code> module has a well-specified API, and we use that API to
interact with <code class="docutils literal notranslate"><span class="pre">random</span></code>. In the above piece of code, we don’t need to know
the exact mechanism by which <code class="docutils literal notranslate"><span class="pre">random.randint</span></code> generates a random number:
we just need to know that we can call that function with a lower bound and
an upper bound, and it will return a random number within those bounds.</p>
<p>APIs can also refer to interfaces that allow us to access certain
services via the Internet, and specifically in a way that we can easily
incorporate in a program. For example, imagine we wanted to find out
the top Twitter users who use hashtag <code class="docutils literal notranslate"><span class="pre">#programming</span></code> (or any given
hashtag). We could go to the Twitter website, enter the hashtag into
their search tag, and then copy-paste the results to a file. However,
this is not something a program can do easily.</p>
<p>Instead, Twitter provides an API for programs to access their data
more conveniently. This API is protocol-focused: it specifies the
messages that a program can send to their web server over the Internet
to obtain certain data.  For example, we can write a program that will
send a message to the Twitter API asking for all the tweets that meet
certain conditions (like including a given hashtag), and it will
return a JSON-encoded list of those tweets, which we can then easily
process from a program.  A popular API of this form will often spawn
competing libraries that are easier to use by abstracting away the
details of the actual protocol.</p>
<p>So, when writing a complex program or system, you rarely have to
implement the entire program completely from scratch, and it is common
to use multiple APIs as building blocks. Even when writing simple
Python programs, we often <code class="docutils literal notranslate"><span class="pre">import</span></code> existing libraries like
<code class="docutils literal notranslate"><span class="pre">random</span></code> (so we don’t have to implement our own functions for
generating random numbers).</p>
<p>In this chapter, we will implement a stack data structure and a queue
data structure, and we will focus not just on their internal
implementation, but also on what interface (or API) we will provide
for those data structures. In particular, we will provide an interface that
is function-based: we expect anyone who uses the data structure to interact
with it through a series of functions that we will write. Later in the book,
we will introduce <em>classes</em> and <em>objects</em>, which will allow us to provide
a different type of interface: an object-oriented interface.</p>
</section>
<section id="stacks">
<h2><span class="section-number">2.3.2. </span>Stacks<a class="headerlink" href="#stacks" title="Permalink to this heading"></a></h2>
<p>A stack is essentially a list of values, but with a more constrained set
of operations available on that list. Most notably, we can only access
and manipulate one element in the data structure: the last element that
was inserted into the stack (which, in stacks, is known as the <em>top</em> of
the stack).</p>
<p>A common way of representing a stack is (non-surprisingly) as values stacked
on top of each other. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">TOP</span>

<span class="o">|</span>  <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">56</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">105</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">42</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span>  <span class="o">|</span>
<span class="o">-------</span>

 <span class="n">BOTTOM</span>
</pre></div>
</div>
<p>In the above stack, we can only interact with the value <code class="docutils literal notranslate"><span class="pre">10</span></code>: we can
see its value, we can remove it from the stack, or we can stack
another value on top of it. However, we cannot interact with the other
values in the stack without first removing the values above them (unless,
for example, we remove value <code class="docutils literal notranslate"><span class="pre">10</span></code>, and then <code class="docutils literal notranslate"><span class="pre">56</span></code> becomes the top
of the stack).</p>
<p>More specifically, these are all the operations we can do with a stack:</p>
<ul class="simple">
<li><p>Creating an empty stack</p></li>
<li><p><em>Pushing</em> a value into the stack. If a stack was empty, then the
stack will contain just the pushed value. If the stack already had
values, we “stack” the new value on the top of stack.</p></li>
<li><p><em>Popping</em> a value from the stack. This operation takes the value at the top of
the stack and removes it (we also get to see what that value is)</p></li>
<li><p><em>Peeking</em> at the value at the top of the stack. This operation tells us what
the value at the top of the stack is but unlike popping does not
remove it from the stack.</p></li>
<li><p>Checking whether a stack is empty.</p></li>
</ul>
<p>It may seem like we’re unnecessarily limiting ourselves: why would
we want to use a data structure like this when we already have lists,
which allow us to do so much more? One reason is that there are many
algorithms that can implemented in a straightforward way if we
use a stack data structure (or, rather, if we write the algorithm
in terms of stack operations like pushing and popping). For example,
here are some applications that use stacks:</p>
<ul class="simple">
<li><p>Undo algorithms in a word processor.</p></li>
<li><p>Expression evaluation in compilers and interpreters.</p></li>
<li><p>Functional call evaluation, which is the origin of the <a class="reference internal" href="../../getting_started/intro_functions/index.html#call-stack"><span class="std std-ref">function call stack</span></a>.</p></li>
</ul>
<p>Later on, we’ll see that another reason why limiting ourselves
to a constrained set of operations can be beneficial from
and interface/API standpoint.</p>
<p>However, let’s first see how we can implement a stack. Since a stack
is a sequence of values, we can use a list to implement one.
For example, the stack we showed above could be represented as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">10</span> <span class="p">]</span>
</pre></div>
</div>
<p>Since we only interact with the top of the stack, we will store the
elements in the stack from bottom to top (i.e., the top of the stack
will be the last element in the list). This way, we can “push”
onto the stack using the list’s <code class="docutils literal notranslate"><span class="pre">append</span></code> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">[5, 42, 105, 56, 10]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">37</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">[5, 42, 105, 56, 10, 37]</span>
</pre></div>
</div>
<p>And popping can be done simply by calling the appropriately named
<code class="docutils literal notranslate"><span class="pre">pop</span></code> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">[5, 42, 105, 56, 10, 37]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">37</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">[5, 42, 105, 56, 10]</span>
</pre></div>
</div>
<div class="admonition-the-complexity-of-list-operations admonition">
<p class="admonition-title">The complexity of list operations</p>
<p>Why do we choose to store the stack in a list from bottom to top,
instead of from top to bottom? If we stored it from top to
bottom, the stack would look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s2</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">5</span> <span class="p">]</span>
</pre></div>
</div>
<p>And we could push using the <code class="docutils literal notranslate"><span class="pre">insert</span></code> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span>
<span class="go">[10, 56, 105, 42, 5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">37</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span>
<span class="go">[37, 10, 56, 105, 42, 5]</span>
</pre></div>
</div>
<p>And pop using the <code class="docutils literal notranslate"><span class="pre">pop</span></code> method (but specifying that
we want to pop the 0th element of the list):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span>
<span class="go">[37, 10, 56, 105, 42, 5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">37</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span>
<span class="go">[10, 56, 105, 42, 5]</span>
</pre></div>
</div>
<p>The results are seemingly the same as the bottom-to-top
implementation, but the performance of the operations is not.  In
Python, appending to the end of the list and removing the last element
in the list can be done very efficiently in <span class="math notranslate nohighlight">\(O(1)\)</span> time.</p>
<p>Inserting and removing at the start of a Python list, on the other
hand, requires <span class="math notranslate nohighlight">\(O(n)\)</span> time, because all the elements in the list
need to be shifted forward or backward by one position.  This analysis
is not universally true of all list data structures in all languages
and, in fact, there are list implementations (including a <code class="docutils literal notranslate"><span class="pre">deque</span></code>
data structure included in Python’s <code class="docutils literal notranslate"><span class="pre">collections</span></code> module) that
allows insertion and removal of the first element in <span class="math notranslate nohighlight">\(O(1)\)</span>
time. These types of differences give us another reason why, depending
on how we intend to use a data structure, we may need to be aware of
the complexity of its operations.</p>
<p>The complexity of many data structure operations in Python can be
found here: <a class="reference external" href="https://wiki.python.org/moin/TimeComplexity">https://wiki.python.org/moin/TimeComplexity</a></p>
</div>
<p>At this point, we know how to use a list in a stack-like manner,
but nothing is stopping us from performing non-stack operations
on that list. For example, we can easily modify non-top entries
in the stack, which is not allowed in a stack:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">37</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">[5, 42, 37, 56, 10]</span>
</pre></div>
</div>
<p>This observation leads us to the other reason why limiting ourselves to a
constrained set of operations can be beneficial: to ensure
that the data structure is manipulated only in acceptable
ways.</p>
<p>For example, earlier we discussed how dictionaries
are implemented internally as hash tables, but we interact
with dictionaries only through a limited set of operations
provided by that data structure’s interface or API. This API abstracts
away the internal details of how dictionaries work, making
our lives easier as programmers, but it also prevents us from
wreaking havoc on the data structure by directly manipulating
the internal hash table. Another way of seeing this is that
dictionaries only allow us to interact with them on their own terms:
the only way of manipulating them is through their API (which
the programmers who implemented dictionaries have control over).</p>
<p>So, when implementing our stack data structure, we want to make sure
that the programmer who uses that stack <em>cannot</em> manipulate it in
non-stack ways (like modifying anything other than the top
element of the stack). For now, we will accomplish this by
defining an API as a collection of functions. Later on in the book,
we will see how to define this same API but using an object-oriented
approach.</p>
<p>So, we will need functions for the operations we described earlier.
Creating an empty stack is simple enough:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">stack_create</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">[]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stack_create</span><span class="p">()</span>
</pre></div>
</div>
<p>Notice how the function returns a list but, conceptually, it returns a
<em>stack</em>. The programmer who uses our stack doesn’t need to know that <code class="docutils literal notranslate"><span class="pre">s</span></code> is actually
a list (even though in Python this is easy enough to find out). In fact,
a very important principle of API design is that it should be possible
for the data type developer to change the internal implementation
without affecting the users of our data type (who should be treating the
value returned by <code class="docutils literal notranslate"><span class="pre">create</span></code> as an <em>opaque type</em>).</p>
<p>For example, let’s go back to dictionaries again. When we create
a new dictionary (e.g., <code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">=</span> <span class="pre">{}</span></code>) we are blissfully unaware that
variable <code class="docutils literal notranslate"><span class="pre">d</span></code> actually refers to a hash table and, not just that,
if the Python developers decided to switch to a different internal
representation, we would keep using dictionaries the same way.</p>
<p>Pushing, popping, peeking, and checking emptiness are similarly
straightforward:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">stack_push</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">stack_pop</span><span class="p">(</span><span class="n">stack</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">stack_top</span><span class="p">(</span><span class="n">stack</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">stack_is_empty</span><span class="p">(</span><span class="n">stack</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Finally, let’s also add a function that creates a string representation of the
stack:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">stack_to_string</span><span class="p">(</span><span class="n">stack</span><span class="p">):</span>
    <span class="n">s</span>  <span class="o">=</span> <span class="s2">&quot; TOP OF THE STACK</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;-------------------</span><span class="se">\n</span><span class="s2">&quot;</span>

    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">stack</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>

    <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;-------------------</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;BOTTOM OF THE STACK</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">s</span>
</pre></div>
</div>
<p>Now, we can work with stacks using only these functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stack_create</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack_push</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack_push</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">27</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack_push</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack_push</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack_push</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stack_to_string</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
<span class="go"> TOP OF THE STACK</span>
<span class="go">-------------------</span>
<span class="go">         7          </span>
<span class="go">         9          </span>
<span class="go">         5          </span>
<span class="go">         27         </span>
<span class="go">         10         </span>
<span class="go">-------------------</span>
<span class="go">BOTTOM OF THE STACK</span>

</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stack_pop</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stack_to_string</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
<span class="go"> TOP OF THE STACK</span>
<span class="go">-------------------</span>
<span class="go">         9          </span>
<span class="go">         5          </span>
<span class="go">         27         </span>
<span class="go">         10         </span>
<span class="go">-------------------</span>
<span class="go">BOTTOM OF THE STACK</span>

</pre></div>
</div>
<p>Of course, because <code class="docutils literal notranslate"><span class="pre">stack_create</span></code> returns a list (which we’re conceptually
manipulating as a stack), nothing stops a user from doing this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">[10, 27, 5, 9]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">37</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">[10, 27, 37, 9]</span>
</pre></div>
</div>
<p>This lack of control over access to the underlying representation is one of the limitations of using a function-based API in Python: it is
still relatively easy to perform forbidden operations on the data structure.
When we discuss object orientation later in the book, we will see that the
object oriented paradigm allows us to define APIs in a way that more strongly
protects the internal data of a data structure.</p>
</section>
<section id="queues">
<h2><span class="section-number">2.3.3. </span>Queues<a class="headerlink" href="#queues" title="Permalink to this heading"></a></h2>
<p>Like stacks, queues represent a sequence of values, but with
a different set of allowed operations on that sequence of values.
In particular, the start of that sequence of values is known
as the <em>back</em> of the queue, and the end of the sequence is
known as the <em>front</em> of the queue. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>       <span class="o">------------------</span>
<span class="n">BACK</span>   <span class="mi">10</span>  <span class="mi">56</span>  <span class="mi">105</span>  <span class="mi">42</span>  <span class="mi">5</span>   <span class="n">FRONT</span>
       <span class="o">------------------</span>
</pre></div>
</div>
<p>A queue is like the typical queue you encounter when waiting in line
for something: elements can only enter the queue through the back of
the queue and can only exit the queue through the front. More
specifically, the only allowed operations with a queue are:</p>
<ul class="simple">
<li><p>Creating an empty queue</p></li>
<li><p><em>Enqueueing</em> a value at the back of the queue</p></li>
<li><p><em>Dequeueing</em> a value at the front of the queue</p></li>
<li><p><em>Peeking</em> at the value at the front of the queue</p></li>
<li><p>Checking the size of queue, including whether it is empty</p></li>
</ul>
<p>Assuming we only use these operations, no element in the queue
can “skip the line”. If an element enters the queue at the back
of the queue, it will not leave the queue until enough elements
(in front of it) are dequeued, so it reached the front of the
queue itself.</p>
<p>Like stacks, we will use a list to implement our queue. With
stacks, using the end of the list as the top of the stack
was the best choice from a performance standpoint.  For queues,
we have to choose whether to use the start of the list as the back
and the end of the list as the front, or vice versa.</p>
<p>As it turns out, we can choose either option. If we make the end of
the list be the front of the queue, Enqueueing is <span class="math notranslate nohighlight">\(O(n)\)</span>
(because we’re inserting at the start of the list) but dequeuing is
<span class="math notranslate nohighlight">\(O(1)\)</span> (because we’re deleting at the end). If we make the end
of the list be the back of the queue, the complexities are swapped
(enqueueing is <span class="math notranslate nohighlight">\(O(1)\)</span> and dequeuing is <span class="math notranslate nohighlight">\(O(n)\)</span>).</p>
<p>Assuming that the number of enqueue/dequeue operations is roughly the
same (because in many applications, what gets enqueued eventually gets
dequeued), there’s really no difference between using the start or end
of the list as the front (and vice versa for the back of the queue).
These are the kind of issues that data structure implementors have to deal
with, but which the programmers that use the data structures <em>should not care about</em>
(except that, sometimes, the documentation will tell you the complexity of certain
operations).</p>
<p>So, our queue operations can be implemented with the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">queue_create</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">[]</span>

<span class="k">def</span> <span class="nf">queue_is_empty</span><span class="p">(</span><span class="n">queue</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">queue_length</span><span class="p">(</span><span class="n">queue</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">queue_enqueue</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">queue_dequeue</span><span class="p">(</span><span class="n">queue</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">queue</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">queue_front</span><span class="p">(</span><span class="n">queue</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">queue</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">queue_to_string</span><span class="p">(</span><span class="n">queue</span><span class="p">):</span>
    <span class="n">s</span>  <span class="o">=</span> <span class="s2">&quot;FRONT OF THE QUEUE</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;------------------</span><span class="se">\n</span><span class="s2">&quot;</span>

    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">queue</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">19</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>

    <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;------------------</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;BACK OF THE QUEUE </span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">s</span>
</pre></div>
</div>
<p>And we can now work with queues by calling those functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">=</span> <span class="n">queue_create</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue_enqueue</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue_enqueue</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="mi">27</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue_enqueue</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue_enqueue</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">queue_enqueue</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">queue_to_string</span><span class="p">(</span><span class="n">q1</span><span class="p">))</span>
<span class="go">FRONT OF THE QUEUE</span>
<span class="go">------------------</span>
<span class="go">         10        </span>
<span class="go">         27        </span>
<span class="go">         5         </span>
<span class="go">         9         </span>
<span class="go">         7         </span>
<span class="go">------------------</span>
<span class="go">BACK OF THE QUEUE </span>

</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">queue_front</span><span class="p">(</span><span class="n">q1</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">queue_to_string</span><span class="p">(</span><span class="n">q1</span><span class="p">))</span>
<span class="go">FRONT OF THE QUEUE</span>
<span class="go">------------------</span>
<span class="go">         10        </span>
<span class="go">         27        </span>
<span class="go">         5         </span>
<span class="go">         9         </span>
<span class="go">         7         </span>
<span class="go">------------------</span>
<span class="go">BACK OF THE QUEUE </span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">queue_dequeue</span><span class="p">(</span><span class="n">q1</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">queue_to_string</span><span class="p">(</span><span class="n">q1</span><span class="p">))</span>
<span class="go">FRONT OF THE QUEUE</span>
<span class="go">------------------</span>
<span class="go">         27        </span>
<span class="go">         5         </span>
<span class="go">         9         </span>
<span class="go">         7         </span>
<span class="go">------------------</span>
<span class="go">BACK OF THE QUEUE </span>

</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../dictionaries/index.html" class="btn btn-neutral float-left" title="2.2. Dictionaries and Sets" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../classes/index.html" class="btn btn-neutral float-right" title="2.4. Classes and Objects" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2024, Anne Rogers and Borja Sotomayor.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>